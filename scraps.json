{
  "apiVersion": "2017-05-10",
  "name": "vmCreation-linkedTemplate",
  "type": "Microsoft.Resources/deployments",
  "properties": {
      "mode": "Incremental",
      "templateLink": {
          "uri": "[variables('vmTemplateUri')]",
          "contentVersion": "1.0.0.0"
      },
      "parameters": {
          "adminUsername": {
              "value": "[parameters('adminUsername')]"
          },
          "adminPassword": {
              "value": "[parameters('adminPassword')]"
          },
          "vmNameBaseName": {
              "value": "[parameters('vmNameBaseName')]"
          },
          "vmHostSize": {
              "value": "[variables('vmHostSize')]"
          },
          "numberOfInstances": {
              "value": "[parameters('numberOfInstances')]"
          },
          "OS": {
              "value": "[parameters('OS')]"
          },
          "subnetRef": {
              "value": "[variables('subnetRef')]"
          }
      }
  },
  "dependsOn": [
    "[resourceId('Microsoft.Compute/availabilitySets', variables('availabilitySetName'))]"
  ]
},